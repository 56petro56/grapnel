{"version":3,"sources":["webpack:///grapnel.min.js","webpack:///webpack/bootstrap f23c801611333084886e","webpack:///./dist/grapnel.js","webpack:///./~/events/events.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireWildcard","obj","__esModule","newObj","key","Object","prototype","hasOwnProperty","default","defineProperty","value","Request","CallStack","root","undefined","_typeof","Symbol","iterator","constructor","_events","events","__extends","d","b","__","this","create","window","history","location","Grapnel","_super","opts","_this","_maxListeners","Infinity","options","defaults","env","pushState","assign","addEventListener","emit","e","state","previousState","regexRoute","path","keys","sensitive","strict","RegExp","Array","join","newPath","concat","replace","_","slash","format","capture","optional","push","name","listen","routes","arguments","add","route","self","middleware","slice","handler","request","invoke","req","parse","match","extra","params","regex","stack","enqueue","runCallback","parent","propagateEvent","callback","eventName","on","get","apply","trigger","bind","context","submiddleware","length","prefix","substr","pattern","navigate","pathname","frag","hash","hashBang","_pathname","split","EventEmitter","router","extendObj","callbackRan","global","preventDefault","stopPropagation","hasParentEvents","timeStamp","Date","now","next","atIndex","handlers","isArray","reverse","splice","shift","matches","forEach","i","decodeURIComponent","isFunction","arg","isNumber","isObject","isUndefined","defaultMaxListeners","setMaxListeners","n","isNaN","TypeError","type","er","len","args","listeners","error","Error","err","addListener","listener","newListener","warned","console","trace","once","g","removeListener","fired","list","position","removeAllListeners","ret","listenerCount","evlistener","emitter"],"mappings":"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","file":"grapnel.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.Request = exports.CallStack = exports.root = undefined;\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _events = __webpack_require__(1);\n\t\n\tvar events = _interopRequireWildcard(_events);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\t/****\n\t * Grapnel\n\t * https://github.com/baseprime/grapnel\n\t *\n\t * @author Greg Sabia Tucker <greg@narrowlabs.com>\n\t * @link http://basepri.me\n\t *\n\t * Released under MIT License. See LICENSE.txt or http://opensource.org/licenses/MIT\n\t*/\n\tvar __extends = undefined && undefined.__extends || function (d, b) {\n\t    for (var p in b) {\n\t        if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    }function __() {\n\t        this.constructor = d;\n\t    }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\tvar root = exports.root = window || { history: {}, location: {} };\n\tvar Grapnel = function (_super) {\n\t    __extends(Grapnel, _super);\n\t    function Grapnel(opts) {\n\t        var _this = _super.call(this) || this;\n\t        _this._maxListeners = Infinity;\n\t        _this.options = {};\n\t        _this.defaults = {\n\t            env: 'client',\n\t            pushState: false\n\t        };\n\t        _this.options = Object.assign({}, _this.defaults, opts);\n\t        if ('object' === (typeof window === 'undefined' ? 'undefined' : _typeof(window)) && 'function' === typeof window.addEventListener) {\n\t            window.addEventListener('hashchange', function () {\n\t                _this.emit('hashchange');\n\t            });\n\t            window.addEventListener('popstate', function (e) {\n\t                // Make sure popstate doesn't run on init -- this is a common issue with Safari and old versions of Chrome\n\t                if (_this.state && _this.state.previousState === null) return false;\n\t                _this.emit('navigate');\n\t            });\n\t        }\n\t        return _this;\n\t    }\n\t    Grapnel.regexRoute = function (path, keys, sensitive, strict) {\n\t        if (path instanceof RegExp) return path;\n\t        if (path instanceof Array) path = '(' + path.join('|') + ')';\n\t        // Build route RegExp\n\t        var newPath = path.concat(strict ? '' : '/?').replace(/\\/\\(/g, '(?:/').replace(/\\+/g, '__plus__').replace(/(\\/)?(\\.)?:(\\w+)(?:(\\(.*?\\)))?(\\?)?/g, function (_, slash, format, key, capture, optional) {\n\t            keys.push({\n\t                name: key,\n\t                optional: !!optional\n\t            });\n\t            slash = slash || '';\n\t            return '' + (optional ? '' : slash) + '(?:' + (optional ? slash : '') + (format || '') + (capture || format && '([^/.]+?)' || '([^/]+?)') + ')' + (optional || '');\n\t        }).replace(/([\\/.])/g, '\\\\$1').replace(/__plus__/g, '(.+)').replace(/\\*/g, '(.*)');\n\t        return new RegExp('^' + newPath + '$', sensitive ? '' : 'i');\n\t    };\n\t    Grapnel.listen = function () {\n\t        var opts;\n\t        var routes;\n\t        if (arguments[0] && arguments[1]) {\n\t            opts = arguments[0];\n\t            routes = arguments[1];\n\t        } else {\n\t            routes = arguments[0];\n\t        }\n\t        // Return a new Grapnel instance\n\t        return function () {\n\t            // TODO: Accept multi-level routes\n\t            for (var key in routes) {\n\t                this.add.call(this, key, routes[key]);\n\t            }\n\t            return this;\n\t        }.call(new Grapnel(opts || {}));\n\t    };\n\t    Grapnel.prototype.add = function (route) {\n\t        var self = this,\n\t            middleware = Array.prototype.slice.call(arguments, 1, -1),\n\t            handler = Array.prototype.slice.call(arguments, -1)[0],\n\t            request = new Request(route);\n\t        var invoke = function RouteHandler() {\n\t            // Build request parameters\n\t            var req = request.parse(self.path());\n\t            // Check if matches are found\n\t            if (req.match) {\n\t                // Match found\n\t                var extra = {\n\t                    route: route,\n\t                    params: req.params,\n\t                    req: req,\n\t                    regex: req.match\n\t                };\n\t                // Create call stack -- add middleware first, then handler\n\t                var stack = new CallStack(self, extra).enqueue(middleware.concat(handler));\n\t                // emit main event\n\t                self.emit('match', stack, req);\n\t                // Continue?\n\t                if (!stack.runCallback) return self;\n\t                // Previous state becomes current state\n\t                stack.previousState = self.state;\n\t                // Save new state\n\t                self.state = stack;\n\t                // Prevent this handler from being called if parent handler in stack has instructed not to propagate any more events\n\t                if (stack.parent() && stack.parent().propagateEvent === false) {\n\t                    stack.propagateEvent = false;\n\t                    return self;\n\t                }\n\t                // Call handler\n\t                stack.callback();\n\t            }\n\t            // Returns self\n\t            return self;\n\t        };\n\t        // Event name\n\t        var eventName = !self.options.pushState && self.options.env !== 'server' ? 'hashchange' : 'navigate';\n\t        // Invoke when route is defined, and once again when app navigates\n\t        return invoke().on(eventName, invoke);\n\t    };\n\t    Grapnel.prototype.get = function () {\n\t        return this.add.apply(this, arguments);\n\t    };\n\t    Grapnel.prototype.trigger = function () {\n\t        return this.emit.apply(this, arguments);\n\t    };\n\t    Grapnel.prototype.bind = function () {\n\t        return this.on.apply(this, arguments);\n\t    };\n\t    Grapnel.prototype.context = function (context) {\n\t        var self = this,\n\t            middleware = Array.prototype.slice.call(arguments, 1);\n\t        return function () {\n\t            var value = arguments[0],\n\t                submiddleware = arguments.length > 2 ? Array.prototype.slice.call(arguments, 1, -1) : [],\n\t                handler = Array.prototype.slice.call(arguments, -1)[0],\n\t                prefix = context.slice(-1) !== '/' && value !== '/' && value !== '' ? context + '/' : context,\n\t                path = value.substr(0, 1) !== '/' ? value : value.substr(1),\n\t                pattern = prefix + path;\n\t            return self.add.apply(self, [pattern].concat(middleware).concat(submiddleware).concat([handler]));\n\t        };\n\t    };\n\t    Grapnel.prototype.navigate = function (path) {\n\t        return this.path(path).emit('navigate');\n\t    };\n\t    Grapnel.prototype.path = function (pathname) {\n\t        var self = this,\n\t            frag;\n\t        if ('string' === typeof pathname) {\n\t            // Set path\n\t            if (self.options.pushState) {\n\t                frag = self.options.root ? self.options.root + pathname : pathname;\n\t                root.history.pushState({}, null, frag);\n\t            } else if (root.location) {\n\t                root.location.hash = (self.options.hashBang ? '!' : '') + pathname;\n\t            } else {\n\t                root._pathname = pathname || '';\n\t            }\n\t            return this;\n\t        } else if ('undefined' === typeof pathname) {\n\t            // Get path\n\t            if (self.options.pushState) {\n\t                frag = root.location.pathname.replace(self.options.root, '');\n\t            } else if (!self.options.pushState && root.location) {\n\t                frag = root.location.hash ? root.location.hash.split(self.options.hashBang ? '#!' : '#')[1] : '';\n\t            } else {\n\t                frag = root._pathname || '';\n\t            }\n\t            return frag;\n\t        } else if (pathname === false) {\n\t            // Clear path\n\t            if (self.options.pushState) {\n\t                root.history.pushState({}, null, self.options.root || '/');\n\t            } else if (root.location) {\n\t                root.location.hash = self.options.hashBang ? '!' : '';\n\t            }\n\t            return self;\n\t        }\n\t    };\n\t    return Grapnel;\n\t}(events.EventEmitter);\n\texports.default = Grapnel;\n\t\n\tvar CallStack = function () {\n\t    function CallStack(router, extendObj) {\n\t        this.runCallback = true;\n\t        this.callbackRan = true;\n\t        this.propagateEvent = true;\n\t        this.stack = CallStack.global.slice(0);\n\t        this.router = router;\n\t        this.runCallback = true;\n\t        this.callbackRan = false;\n\t        this.propagateEvent = true;\n\t        this.value = router.path();\n\t        Object.assign(this, extendObj);\n\t        return this;\n\t    }\n\t    CallStack.prototype.preventDefault = function () {\n\t        this.runCallback = false;\n\t    };\n\t    CallStack.prototype.stopPropagation = function () {\n\t        this.propagateEvent = false;\n\t    };\n\t    CallStack.prototype.parent = function () {\n\t        var hasParentEvents = !!(this.previousState && this.previousState.value && this.previousState.value == this.value);\n\t        return hasParentEvents ? this.previousState : false;\n\t    };\n\t    CallStack.prototype.callback = function () {\n\t        this.callbackRan = true;\n\t        this.timeStamp = Date.now();\n\t        this.next();\n\t    };\n\t    CallStack.prototype.enqueue = function (handler, atIndex) {\n\t        var handlers = !Array.isArray(handler) ? [handler] : atIndex < handler.length ? handler.reverse() : handler;\n\t        while (handlers.length) {\n\t            this.stack.splice(atIndex || this.stack.length + 1, 0, handlers.shift());\n\t        }\n\t        return this;\n\t    };\n\t    CallStack.prototype.next = function () {\n\t        var self = this;\n\t        return this.stack.shift().call(this.router, this.req, this, function next() {\n\t            self.next.call(self);\n\t        });\n\t    };\n\t    return CallStack;\n\t}();\n\texports.CallStack = CallStack;\n\t\n\tCallStack.global = [];\n\tvar Request = function () {\n\t    function Request(route) {\n\t        this.route = route;\n\t        this.keys = [];\n\t        this.regex = Grapnel.regexRoute(route, this.keys);\n\t    }\n\t    Request.prototype.parse = function (path) {\n\t        var match = path.match(this.regex),\n\t            self = this;\n\t        var req = {\n\t            params: {},\n\t            keys: this.keys,\n\t            matches: (match || []).slice(1),\n\t            match: match\n\t        };\n\t        // Build parameters\n\t        req.matches.forEach(function (value, i) {\n\t            var key = self.keys[i] && self.keys[i].name ? self.keys[i].name : i;\n\t            // Parameter key will be its key or the iteration index. This is useful if a wildcard (*) is matched\n\t            req.params[key] = value ? decodeURIComponent(value) : undefined;\n\t        });\n\t        return req;\n\t    };\n\t    return Request;\n\t}();\n\texports.Request = Request;\n\t\n\tif ('object' === (typeof window === 'undefined' ? 'undefined' : _typeof(window))) {\n\t    window.Grapnel = Grapnel;\n\t}\n\t//# sourceMappingURL=grapnel.js.map\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\t// Copyright Joyent, Inc. and other Node contributors.\n\t//\n\t// Permission is hereby granted, free of charge, to any person obtaining a\n\t// copy of this software and associated documentation files (the\n\t// \"Software\"), to deal in the Software without restriction, including\n\t// without limitation the rights to use, copy, modify, merge, publish,\n\t// distribute, sublicense, and/or sell copies of the Software, and to permit\n\t// persons to whom the Software is furnished to do so, subject to the\n\t// following conditions:\n\t//\n\t// The above copyright notice and this permission notice shall be included\n\t// in all copies or substantial portions of the Software.\n\t//\n\t// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n\t// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n\t// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n\t// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n\t// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n\t// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n\t// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\t\n\tfunction EventEmitter() {\n\t  this._events = this._events || {};\n\t  this._maxListeners = this._maxListeners || undefined;\n\t}\n\tmodule.exports = EventEmitter;\n\t\n\t// Backwards-compat with node 0.10.x\n\tEventEmitter.EventEmitter = EventEmitter;\n\t\n\tEventEmitter.prototype._events = undefined;\n\tEventEmitter.prototype._maxListeners = undefined;\n\t\n\t// By default EventEmitters will print a warning if more than 10 listeners are\n\t// added to it. This is a useful default which helps finding memory leaks.\n\tEventEmitter.defaultMaxListeners = 10;\n\t\n\t// Obviously not all Emitters should be limited to 10. This function allows\n\t// that to be increased. Set to zero for unlimited.\n\tEventEmitter.prototype.setMaxListeners = function (n) {\n\t  if (!isNumber(n) || n < 0 || isNaN(n)) throw TypeError('n must be a positive number');\n\t  this._maxListeners = n;\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.emit = function (type) {\n\t  var er, handler, len, args, i, listeners;\n\t\n\t  if (!this._events) this._events = {};\n\t\n\t  // If there is no 'error' event listener then throw.\n\t  if (type === 'error') {\n\t    if (!this._events.error || isObject(this._events.error) && !this._events.error.length) {\n\t      er = arguments[1];\n\t      if (er instanceof Error) {\n\t        throw er; // Unhandled 'error' event\n\t      } else {\n\t        // At least give some kind of context to the user\n\t        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n\t        err.context = er;\n\t        throw err;\n\t      }\n\t    }\n\t  }\n\t\n\t  handler = this._events[type];\n\t\n\t  if (isUndefined(handler)) return false;\n\t\n\t  if (isFunction(handler)) {\n\t    switch (arguments.length) {\n\t      // fast cases\n\t      case 1:\n\t        handler.call(this);\n\t        break;\n\t      case 2:\n\t        handler.call(this, arguments[1]);\n\t        break;\n\t      case 3:\n\t        handler.call(this, arguments[1], arguments[2]);\n\t        break;\n\t      // slower\n\t      default:\n\t        args = Array.prototype.slice.call(arguments, 1);\n\t        handler.apply(this, args);\n\t    }\n\t  } else if (isObject(handler)) {\n\t    args = Array.prototype.slice.call(arguments, 1);\n\t    listeners = handler.slice();\n\t    len = listeners.length;\n\t    for (i = 0; i < len; i++) {\n\t      listeners[i].apply(this, args);\n\t    }\n\t  }\n\t\n\t  return true;\n\t};\n\t\n\tEventEmitter.prototype.addListener = function (type, listener) {\n\t  var m;\n\t\n\t  if (!isFunction(listener)) throw TypeError('listener must be a function');\n\t\n\t  if (!this._events) this._events = {};\n\t\n\t  // To avoid recursion in the case that type === \"newListener\"! Before\n\t  // adding it to the listeners, first emit \"newListener\".\n\t  if (this._events.newListener) this.emit('newListener', type, isFunction(listener.listener) ? listener.listener : listener);\n\t\n\t  if (!this._events[type])\n\t    // Optimize the case of one listener. Don't need the extra array object.\n\t    this._events[type] = listener;else if (isObject(this._events[type]))\n\t    // If we've already got an array, just append.\n\t    this._events[type].push(listener);else\n\t    // Adding the second element, need to change to array.\n\t    this._events[type] = [this._events[type], listener];\n\t\n\t  // Check for listener leak\n\t  if (isObject(this._events[type]) && !this._events[type].warned) {\n\t    if (!isUndefined(this._maxListeners)) {\n\t      m = this._maxListeners;\n\t    } else {\n\t      m = EventEmitter.defaultMaxListeners;\n\t    }\n\t\n\t    if (m && m > 0 && this._events[type].length > m) {\n\t      this._events[type].warned = true;\n\t      console.error('(node) warning: possible EventEmitter memory ' + 'leak detected. %d listeners added. ' + 'Use emitter.setMaxListeners() to increase limit.', this._events[type].length);\n\t      if (typeof console.trace === 'function') {\n\t        // not supported in IE 10\n\t        console.trace();\n\t      }\n\t    }\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\t\n\tEventEmitter.prototype.once = function (type, listener) {\n\t  if (!isFunction(listener)) throw TypeError('listener must be a function');\n\t\n\t  var fired = false;\n\t\n\t  function g() {\n\t    this.removeListener(type, g);\n\t\n\t    if (!fired) {\n\t      fired = true;\n\t      listener.apply(this, arguments);\n\t    }\n\t  }\n\t\n\t  g.listener = listener;\n\t  this.on(type, g);\n\t\n\t  return this;\n\t};\n\t\n\t// emits a 'removeListener' event iff the listener was removed\n\tEventEmitter.prototype.removeListener = function (type, listener) {\n\t  var list, position, length, i;\n\t\n\t  if (!isFunction(listener)) throw TypeError('listener must be a function');\n\t\n\t  if (!this._events || !this._events[type]) return this;\n\t\n\t  list = this._events[type];\n\t  length = list.length;\n\t  position = -1;\n\t\n\t  if (list === listener || isFunction(list.listener) && list.listener === listener) {\n\t    delete this._events[type];\n\t    if (this._events.removeListener) this.emit('removeListener', type, listener);\n\t  } else if (isObject(list)) {\n\t    for (i = length; i-- > 0;) {\n\t      if (list[i] === listener || list[i].listener && list[i].listener === listener) {\n\t        position = i;\n\t        break;\n\t      }\n\t    }\n\t\n\t    if (position < 0) return this;\n\t\n\t    if (list.length === 1) {\n\t      list.length = 0;\n\t      delete this._events[type];\n\t    } else {\n\t      list.splice(position, 1);\n\t    }\n\t\n\t    if (this._events.removeListener) this.emit('removeListener', type, listener);\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.removeAllListeners = function (type) {\n\t  var key, listeners;\n\t\n\t  if (!this._events) return this;\n\t\n\t  // not listening for removeListener, no need to emit\n\t  if (!this._events.removeListener) {\n\t    if (arguments.length === 0) this._events = {};else if (this._events[type]) delete this._events[type];\n\t    return this;\n\t  }\n\t\n\t  // emit removeListener for all listeners on all events\n\t  if (arguments.length === 0) {\n\t    for (key in this._events) {\n\t      if (key === 'removeListener') continue;\n\t      this.removeAllListeners(key);\n\t    }\n\t    this.removeAllListeners('removeListener');\n\t    this._events = {};\n\t    return this;\n\t  }\n\t\n\t  listeners = this._events[type];\n\t\n\t  if (isFunction(listeners)) {\n\t    this.removeListener(type, listeners);\n\t  } else if (listeners) {\n\t    // LIFO order\n\t    while (listeners.length) {\n\t      this.removeListener(type, listeners[listeners.length - 1]);\n\t    }\n\t  }\n\t  delete this._events[type];\n\t\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.listeners = function (type) {\n\t  var ret;\n\t  if (!this._events || !this._events[type]) ret = [];else if (isFunction(this._events[type])) ret = [this._events[type]];else ret = this._events[type].slice();\n\t  return ret;\n\t};\n\t\n\tEventEmitter.prototype.listenerCount = function (type) {\n\t  if (this._events) {\n\t    var evlistener = this._events[type];\n\t\n\t    if (isFunction(evlistener)) return 1;else if (evlistener) return evlistener.length;\n\t  }\n\t  return 0;\n\t};\n\t\n\tEventEmitter.listenerCount = function (emitter, type) {\n\t  return emitter.listenerCount(type);\n\t};\n\t\n\tfunction isFunction(arg) {\n\t  return typeof arg === 'function';\n\t}\n\t\n\tfunction isNumber(arg) {\n\t  return typeof arg === 'number';\n\t}\n\t\n\tfunction isObject(arg) {\n\t  return (typeof arg === 'undefined' ? 'undefined' : _typeof(arg)) === 'object' && arg !== null;\n\t}\n\t\n\tfunction isUndefined(arg) {\n\t  return arg === void 0;\n\t}\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// grapnel.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f23c801611333084886e","/****\n * Grapnel\n * https://github.com/baseprime/grapnel\n *\n * @author Greg Sabia Tucker <greg@narrowlabs.com>\n * @link http://basepri.me\n *\n * Released under MIT License. See LICENSE.txt or http://opensource.org/licenses/MIT\n*/\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nimport * as events from 'events';\nexport var root = window || { history: {}, location: {} };\nvar Grapnel = (function (_super) {\n    __extends(Grapnel, _super);\n    function Grapnel(opts) {\n        var _this = _super.call(this) || this;\n        _this._maxListeners = Infinity;\n        _this.options = {};\n        _this.defaults = {\n            env: 'client',\n            pushState: false\n        };\n        _this.options = Object.assign({}, _this.defaults, opts);\n        if ('object' === typeof window && 'function' === typeof window.addEventListener) {\n            window.addEventListener('hashchange', function () {\n                _this.emit('hashchange');\n            });\n            window.addEventListener('popstate', function (e) {\n                // Make sure popstate doesn't run on init -- this is a common issue with Safari and old versions of Chrome\n                if (_this.state && _this.state.previousState === null)\n                    return false;\n                _this.emit('navigate');\n            });\n        }\n        return _this;\n    }\n    Grapnel.regexRoute = function (path, keys, sensitive, strict) {\n        if (path instanceof RegExp)\n            return path;\n        if (path instanceof Array)\n            path = '(' + path.join('|') + ')';\n        // Build route RegExp\n        var newPath = path.concat(strict ? '' : '/?')\n            .replace(/\\/\\(/g, '(?:/')\n            .replace(/\\+/g, '__plus__')\n            .replace(/(\\/)?(\\.)?:(\\w+)(?:(\\(.*?\\)))?(\\?)?/g, function (_, slash, format, key, capture, optional) {\n            keys.push({\n                name: key,\n                optional: !!optional\n            });\n            slash = slash || '';\n            return '' + (optional ? '' : slash) + '(?:' + (optional ? slash : '') + (format || '') + (capture || (format && '([^/.]+?)' || '([^/]+?)')) + ')' + (optional || '');\n        })\n            .replace(/([\\/.])/g, '\\\\$1')\n            .replace(/__plus__/g, '(.+)')\n            .replace(/\\*/g, '(.*)');\n        return new RegExp('^' + newPath + '$', sensitive ? '' : 'i');\n    };\n    Grapnel.listen = function () {\n        var opts;\n        var routes;\n        if (arguments[0] && arguments[1]) {\n            opts = arguments[0];\n            routes = arguments[1];\n        }\n        else {\n            routes = arguments[0];\n        }\n        // Return a new Grapnel instance\n        return (function () {\n            // TODO: Accept multi-level routes\n            for (var key in routes) {\n                this.add.call(this, key, routes[key]);\n            }\n            return this;\n        }).call(new Grapnel(opts || {}));\n    };\n    Grapnel.prototype.add = function (route) {\n        var self = this, middleware = Array.prototype.slice.call(arguments, 1, -1), handler = Array.prototype.slice.call(arguments, -1)[0], request = new Request(route);\n        var invoke = function RouteHandler() {\n            // Build request parameters\n            var req = request.parse(self.path());\n            // Check if matches are found\n            if (req.match) {\n                // Match found\n                var extra = {\n                    route: route,\n                    params: req.params,\n                    req: req,\n                    regex: req.match\n                };\n                // Create call stack -- add middleware first, then handler\n                var stack = new CallStack(self, extra).enqueue(middleware.concat(handler));\n                // emit main event\n                self.emit('match', stack, req);\n                // Continue?\n                if (!stack.runCallback)\n                    return self;\n                // Previous state becomes current state\n                stack.previousState = self.state;\n                // Save new state\n                self.state = stack;\n                // Prevent this handler from being called if parent handler in stack has instructed not to propagate any more events\n                if (stack.parent() && stack.parent().propagateEvent === false) {\n                    stack.propagateEvent = false;\n                    return self;\n                }\n                // Call handler\n                stack.callback();\n            }\n            // Returns self\n            return self;\n        };\n        // Event name\n        var eventName = (!self.options.pushState && self.options.env !== 'server') ? 'hashchange' : 'navigate';\n        // Invoke when route is defined, and once again when app navigates\n        return invoke().on(eventName, invoke);\n    };\n    Grapnel.prototype.get = function () {\n        return this.add.apply(this, arguments);\n    };\n    Grapnel.prototype.trigger = function () {\n        return this.emit.apply(this, arguments);\n    };\n    Grapnel.prototype.bind = function () {\n        return this.on.apply(this, arguments);\n    };\n    Grapnel.prototype.context = function (context) {\n        var self = this, middleware = Array.prototype.slice.call(arguments, 1);\n        return function () {\n            var value = arguments[0], submiddleware = (arguments.length > 2) ? Array.prototype.slice.call(arguments, 1, -1) : [], handler = Array.prototype.slice.call(arguments, -1)[0], prefix = (context.slice(-1) !== '/' && value !== '/' && value !== '') ? context + '/' : context, path = (value.substr(0, 1) !== '/') ? value : value.substr(1), pattern = prefix + path;\n            return self.add.apply(self, [pattern].concat(middleware).concat(submiddleware).concat([handler]));\n        };\n    };\n    Grapnel.prototype.navigate = function (path) {\n        return this.path(path).emit('navigate');\n    };\n    Grapnel.prototype.path = function (pathname) {\n        var self = this, frag;\n        if ('string' === typeof pathname) {\n            // Set path\n            if (self.options.pushState) {\n                frag = (self.options.root) ? (self.options.root + pathname) : pathname;\n                root.history.pushState({}, null, frag);\n            }\n            else if (root.location) {\n                root.location.hash = (self.options.hashBang ? '!' : '') + pathname;\n            }\n            else {\n                root._pathname = pathname || '';\n            }\n            return this;\n        }\n        else if ('undefined' === typeof pathname) {\n            // Get path\n            if (self.options.pushState) {\n                frag = root.location.pathname.replace(self.options.root, '');\n            }\n            else if (!self.options.pushState && root.location) {\n                frag = (root.location.hash) ? root.location.hash.split((self.options.hashBang ? '#!' : '#'))[1] : '';\n            }\n            else {\n                frag = root._pathname || '';\n            }\n            return frag;\n        }\n        else if (pathname === false) {\n            // Clear path\n            if (self.options.pushState) {\n                root.history.pushState({}, null, self.options.root || '/');\n            }\n            else if (root.location) {\n                root.location.hash = (self.options.hashBang) ? '!' : '';\n            }\n            return self;\n        }\n    };\n    return Grapnel;\n}(events.EventEmitter));\nexport default Grapnel;\nvar CallStack = (function () {\n    function CallStack(router, extendObj) {\n        this.runCallback = true;\n        this.callbackRan = true;\n        this.propagateEvent = true;\n        this.stack = CallStack.global.slice(0);\n        this.router = router;\n        this.runCallback = true;\n        this.callbackRan = false;\n        this.propagateEvent = true;\n        this.value = router.path();\n        Object.assign(this, extendObj);\n        return this;\n    }\n    CallStack.prototype.preventDefault = function () {\n        this.runCallback = false;\n    };\n    CallStack.prototype.stopPropagation = function () {\n        this.propagateEvent = false;\n    };\n    CallStack.prototype.parent = function () {\n        var hasParentEvents = !!(this.previousState && this.previousState.value && this.previousState.value == this.value);\n        return (hasParentEvents) ? this.previousState : false;\n    };\n    CallStack.prototype.callback = function () {\n        this.callbackRan = true;\n        this.timeStamp = Date.now();\n        this.next();\n    };\n    CallStack.prototype.enqueue = function (handler, atIndex) {\n        var handlers = (!Array.isArray(handler)) ? [handler] : ((atIndex < handler.length) ? handler.reverse() : handler);\n        while (handlers.length) {\n            this.stack.splice(atIndex || this.stack.length + 1, 0, handlers.shift());\n        }\n        return this;\n    };\n    CallStack.prototype.next = function () {\n        var self = this;\n        return this.stack.shift().call(this.router, this.req, this, function next() {\n            self.next.call(self);\n        });\n    };\n    return CallStack;\n}());\nexport { CallStack };\nCallStack.global = [];\nvar Request = (function () {\n    function Request(route) {\n        this.route = route;\n        this.keys = [];\n        this.regex = Grapnel.regexRoute(route, this.keys);\n    }\n    Request.prototype.parse = function (path) {\n        var match = path.match(this.regex), self = this;\n        var req = {\n            params: {},\n            keys: this.keys,\n            matches: (match || []).slice(1),\n            match: match\n        };\n        // Build parameters\n        req.matches.forEach(function (value, i) {\n            var key = (self.keys[i] && self.keys[i].name) ? self.keys[i].name : i;\n            // Parameter key will be its key or the iteration index. This is useful if a wildcard (*) is matched\n            req.params[key] = (value) ? decodeURIComponent(value) : undefined;\n        });\n        return req;\n    };\n    return Request;\n}());\nexport { Request };\nif ('object' === typeof window) {\n    window.Grapnel = Grapnel;\n}\n//# sourceMappingURL=grapnel.js.map\n\n\n// WEBPACK FOOTER //\n// ./dist/grapnel.js","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/events/events.js"],"sourceRoot":""}