{"version":3,"sources":["webpack:///grapnel.min.js","webpack:///webpack/bootstrap 965599e2a533ebfb64bb","webpack:///./build/grapnel.js","webpack:///./~/events/events.js"],"names":["Grapnel","modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_typeof","Symbol","iterator","obj","_createClass","defineProperties","target","props","i","length","descriptor","defineProperty","key","protoProps","staticProps","events_1","_events_1$EventEmitte","opts","this","_this","getPrototypeOf","_maxListeners","Infinity","options","defaults","env","pushState","assign","window","addEventListener","emit","e","state","previousState","route","middleware","Array","slice","arguments","handler","request","Request","invoke","req","parse","path","match","extra","params","regex","stack","CallStack","enqueue","concat","runCallback","parent","propagateEvent","callback","eventName","on","add","apply","context","submiddleware","prefix","substr","pattern","pathname","root","_rootTarget","frag","history","location","hash","hashBang","_pathname","replace","split","keys","sensitive","strict","RegExp","join","newPath","_","slash","format","capture","optional","push","name","routes","undefined","EventEmitter","default","router","extendObj","callbackRan","global","hasParentEvents","timeStamp","Date","now","next","atIndex","handlers","isArray","reverse","splice","shift","regexRoute","_this2","matches","forEach","decodeURIComponent","_events","isFunction","arg","isNumber","isObject","isUndefined","defaultMaxListeners","setMaxListeners","n","isNaN","type","er","len","args","listeners","error","Error","err","addListener","listener","newListener","warned","console","trace","once","g","removeListener","fired","list","position","removeAllListeners","ret","listenerCount","evlistener","emitter"],"mappings":"AAAA,GAAIA,SACK,SAAUC,GCGnB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAE,WACAE,GAAAJ,EACAK,QAAA,EAUA,OANAP,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,QAAA,EAGAF,EAAAD,QAvBA,GAAAD,KAqCA,OATAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,GAGAV,EAAA,KDOM,SAAUI,EAAQD,EAASH,GE7CjC,YF8DC,SAASW,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMT,GAAQ,IAAKS,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAOV,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BS,EAAPT,EAElO,QAASW,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GARje,GAAIW,GAA4B,kBAAXC,SAAoD,gBAApBA,QAAOC,SAAwB,SAAUC,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAXF,SAAyBE,EAAIV,cAAgBQ,QAAUE,IAAQF,OAAOX,UAAY,eAAkBa,IAElQC,EAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,GAAIE,GAAaH,EAAMC,EAAIE,GAAWf,WAAae,EAAWf,aAAc,EAAOe,EAAWb,cAAe,EAAU,SAAWa,KAAYA,EAAWd,UAAW,GAAML,OAAOoB,eAAeL,EAAQI,EAAWE,IAAKF,IAAiB,MAAO,UAAU5B,EAAa+B,EAAYC,GAAiJ,MAA9HD,IAAYR,EAAiBvB,EAAYQ,UAAWuB,GAAiBC,GAAaT,EAAiBvB,EAAagC,GAAqBhC,KElDjiBS,QAAOoB,eAAevC,EAAS,cAAgBsB,OAAO,GACtD,IAAMqB,GAAW9C,EAAQ,GACnBF,EF2DS,SAAUiD,GE1DrB,QAAAjD,GAAYkD,GAAMrC,EAAAsC,KAAAnD,EAAA,IAAAoD,GAAAnC,EAAAkC,MAAAnD,EAAAgC,WAAAR,OAAA6B,eAAArD,IAAAS,KAAA0C,MAAA,OAEdC,GAAKE,cAAgBC,IACrBH,EAAKI,WACLJ,EAAKK,UACDC,IAAK,SACLC,WAAW,GAEfP,EAAKI,QAAUhC,OAAOoC,UAAWR,EAAKK,SAAUP,GAC5C,+BAAoBW,QAApB,YAAA5B,EAAoB4B,UAAU,kBAAsBA,QAAOC,mBAC3DD,OAAOC,iBAAiB,aAAc,WAClCV,EAAKW,KAAK,gBAEdF,OAAOC,iBAAiB,WAAY,SAACE,GAEjC,QAAIZ,EAAKa,OAAsC,OAA7Bb,EAAKa,MAAMC,oBAE7Bd,GAAKW,KAAK,eAjBJX,EFiPjB,MAtLAhC,GAAUpB,EAASiD,GA2BnBZ,EAAarC,IACT6C,IAAK,MACLlB,MAAO,SE1BRwC,GACA,GAAIjD,GAAOiC,KAAMiB,EAAaC,MAAM9C,UAAU+C,MAAM7D,KAAK8D,UAAW,GAAG,GAAKC,EAAUH,MAAM9C,UAAU+C,MAAM7D,KAAK8D,WAAW,GAAI,GAAIE,EAAU,GAAIC,GAAQP,GACtJQ,EAAS,WAET,GAAIC,GAAMH,EAAQI,MAAM3D,EAAK4D,OAE7B,IAAIF,EAAIG,MAAO,CAEX,GAAIC,IACAb,MAAOA,EACPc,OAAQL,EAAIK,OACZL,IAAKA,EACLM,MAAON,EAAIG,OAGXI,EAAQ,GAAIC,GAAUlE,EAAM8D,GAAOK,QAAQjB,EAAWkB,OAAOd,GAIjE,IAFAtD,EAAK6C,KAAK,QAASoB,EAAOP,IAErBO,EAAMI,YACP,MAAOrE,EAMX,IAJAiE,EAAMjB,cAAgBhD,EAAK+C,MAE3B/C,EAAK+C,MAAQkB,EAETA,EAAMK,UAAYL,EAAMK,SAASC,kBAAmB,EAEpD,MADAN,GAAMM,gBAAiB,EAChBvE,CAGXiE,GAAMO,WAGV,MAAOxE,IAGPyE,EAAczE,EAAKsC,QAAQG,WAAkC,WAArBzC,EAAKsC,QAAQE,IAAmC,WAAf,YAE7E,OAAOiB,KAASiB,GAAGD,EAAWhB,MF+B7B9B,IAAK,MACLlB,MAAO,WE7BR,MAAOwB,MAAK0C,IAAIC,MAAM3C,KAAMoB,cFiC3B1B,IAAK,UACLlB,MAAO,WE/BR,MAAOwB,MAAKY,KAAK+B,MAAM3C,KAAMoB,cFmC5B1B,IAAK,OACLlB,MAAO,WEjCR,MAAOwB,MAAKyC,GAAGE,MAAM3C,KAAMoB,cFqC1B1B,IAAK,UACLlB,MAAO,SEpCJoE,GACJ,GAAI7E,GAAOiC,KAAMiB,EAAaC,MAAM9C,UAAU+C,MAAM7D,KAAK8D,UAAW,EACpE,OAAO,YACH,GAAI5C,GAAQ4C,UAAU,GAAIyB,EAAiBzB,UAAU7B,OAAS,EAAK2B,MAAM9C,UAAU+C,MAAM7D,KAAK8D,UAAW,GAAG,MAAUC,EAAUH,MAAM9C,UAAU+C,MAAM7D,KAAK8D,WAAW,GAAI,GAAI0B,EAAgC,MAAtBF,EAAQzB,OAAM,IAAyB,MAAV3C,GAA2B,KAAVA,EAAgBoE,EAAU,IAAMA,EAASjB,EAA+B,MAAvBnD,EAAMuE,OAAO,EAAG,GAAcvE,EAAQA,EAAMuE,OAAO,GAAIC,EAAUF,EAASnB,CACjW,OAAO5D,GAAK2E,IAAIC,MAAM5E,GAAOiF,GAASb,OAAOlB,GAAYkB,OAAOU,GAAeV,QAAQd,SF8C1F3B,IAAK,WACLlB,MAAO,SE5CHmD,GACL,MAAO3B,MAAK2B,KAAKA,GAAMf,KAAK,eF+C3BlB,IAAK,OACLlB,MAAO,SE9CPyE,GACD,GAAIlF,GAAOiC,KACPkD,EAAOlD,KAAKzB,YAAY4E,YACxBC,QACJ,OAAI,gBAAoBH,IAEhBlF,EAAKsC,QAAQG,WACb4C,EAAQrF,EAAKsC,QAAQ6C,KAASnF,EAAKsC,QAAQ6C,KAAOD,EAAYA,EAC9DC,EAAKG,QAAQ7C,aAAc,KAAM4C,IAE5BF,EAAKI,SACVJ,EAAKI,SAASC,MAAQxF,EAAKsC,QAAQmD,SAAW,IAAM,IAAMP,EAG1DC,EAAKO,UAAYR,GAAY,GAE1BjD,MAEF,mBAAuBiD,GAGxBG,EADArF,EAAKsC,QAAQG,UACN0C,EAAKI,SAASL,SAASS,QAAQ3F,EAAKsC,QAAQ6C,KAAM,KAEnDnF,EAAKsC,QAAQG,WAAa0C,EAAKI,SAC7BJ,EAAKI,SAASC,KAAQL,EAAKI,SAASC,KAAKI,MAAO5F,EAAKsC,QAAQmD,SAAW,KAAO,KAAM,GAAK,GAG3FN,EAAKO,WAAa,GAIxBR,KAAa,GAEdlF,EAAKsC,QAAQG,UACb0C,EAAKG,QAAQ7C,aAAc,KAAMzC,EAAKsC,QAAQ6C,MAAQ,KAEjDA,EAAKI,WACVJ,EAAKI,SAASC,KAAQxF,EAAKsC,QAAQmD,SAAY,IAAM,IAElDzF,GARN,YFmDJ2B,IAAK,aACLlB,MAAO,SExLMmD,EAAMiC,EAAMC,EAAWC,GACrC,GAAInC,YAAgBoC,QAChB,MAAOpC,EACPA,aAAgBT,SAChBS,EAAO,IAAMA,EAAKqC,KAAK,KAAO,IAElC,IAAIC,GAAUtC,EAAKQ,OAAO2B,EAAS,GAAK,MACnCJ,QAAQ,QAAS,QACjBA,QAAQ,MAAO,YACfA,QAAQ,uCAAwC,SAAUQ,EAAGC,EAAOC,EAAQ1E,EAAK2E,EAASC,GAM3F,MALAV,GAAKW,MACDC,KAAM9E,EACN4E,WAAYA,IAEhBH,EAAQA,GAAS,GACV,IAAMG,EAAW,GAAKH,GAAS,OAASG,EAAWH,EAAQ,KAAOC,GAAU,KAAOC,GAAYD,GAAU,aAAe,YAAe,KAAOE,GAAY,MAEhKZ,QAAQ,WAAY,QACpBA,QAAQ,YAAa,QACrBA,QAAQ,MAAO,OACpB,OAAO,IAAIK,QAAO,IAAME,EAAU,IAAKJ,EAAY,GAAK,QFmLvDnE,IAAK,SACLlB,MAAO,WEjLR,GAAIuB,GACA0E,CASJ,QARIrD,UAAA7B,QAAA,EAAAmF,OAAAtD,UAAA,MAAAA,UAAA7B,QAAA,EAAAmF,OAAAtD,UAAA,KACArB,0CACA0E,2CAGAA,0CAGI,WAEJ,IAAK,GAAI/E,KAAO+E,GACZzE,KAAK0C,IAAIpF,KAAK0C,KAAMN,EAAK+E,EAAO/E,GAEpC,OAAOM,OACR1C,KAAK,GAAIT,GAAQkD,YFqLhBlD,GElPUgD,EAAS8E,aAsK/B9H,GAAQsG,YAAezC,SAAY2C,WAAaC,aAChDpG,EAAQ0H,QAAU/H,CFiFjB,IEhFKoF,GFgFW,WE/Eb,QAAAA,GAAY4C,EAAQC,GAWhB,MAX2BpH,GAAAsC,KAAAiC,GAC3BjC,KAAKoC,aAAc,EACnBpC,KAAK+E,aAAc,EACnB/E,KAAKsC,gBAAiB,EACtBtC,KAAKgC,MAAQC,EAAU+C,OAAO7D,MAAM,GACpCnB,KAAK6E,OAASA,EACd7E,KAAKoC,aAAc,EACnBpC,KAAK+E,aAAc,EACnB/E,KAAKsC,gBAAiB,EACtBtC,KAAKxB,MAAQqG,EAAOlD,OACpBtD,OAAOoC,OAAOT,KAAM8E,GACb9E,KF+HV,MA1CAd,GAAa+C,IACTvC,IAAK,iBACLlB,MAAO,WEpFRwB,KAAKoC,aAAc,KFwFlB1C,IAAK,kBACLlB,MAAO,WEtFRwB,KAAKsC,gBAAiB,KF0FrB5C,IAAK,SACLlB,MAAO,WExFR,GAAIyG,MAAqBjF,KAAKe,gBAAiBf,KAAKe,cAAcvC,OAASwB,KAAKe,cAAcvC,OAASwB,KAAKxB,MAC5G,SAAQyG,GAAmBjF,KAAKe,iBF4F/BrB,IAAK,WACLlB,MAAO,WE1FRwB,KAAK+E,aAAc,EACnB/E,KAAKkF,UAAYC,KAAKC,MACtBpF,KAAKqF,UF8FJ3F,IAAK,UACLlB,MAAO,SE7FJ6C,EAASiE,GAEb,IADA,GAAIC,GAAarE,MAAMsE,QAAQnE,GAA0BiE,EAAUjE,EAAQ9B,OAAU8B,EAAQoE,UAAYpE,GAA7DA,GACrCkE,EAAShG,QACZS,KAAKgC,MAAM0D,OAAOJ,GAAWtF,KAAKgC,MAAMzC,OAAS,EAAG,EAAGgG,EAASI,QAEpE,OAAO3F,SFgGNN,IAAK,OACLlB,MAAO,WE9FR,GAAIT,GAAOiC,IACX,OAAOA,MAAKgC,MAAM2D,QAAQrI,KAAK0C,KAAK6E,OAAQ7E,KAAKyB,IAAKzB,KAAM,WACxDjC,EAAKsH,KAAK/H,KAAKS,SFoGfkE,IEhGZA,GAAU+C,UACV9H,EAAQ+E,UAAYA,CFqGnB,IEpGKV,GFoGS,WEnGX,QAAAA,GAAYP,GAAOtD,EAAAsC,KAAAuB,GACfvB,KAAKgB,MAAQA,EACbhB,KAAK4D,QACL5D,KAAK+B,MAAQlF,EAAQ+I,WAAW5E,EAAOhB,KAAK4D,MF+H/C,MAtBA1E,GAAaqC,IACT7B,IAAK,QACLlB,MAAO,SEzGNmD,GAAM,GAAAkE,GAAA7F,KACJ4B,EAAQD,EAAKC,MAAM5B,KAAK+B,OACxBN,GACAK,UACA8B,KAAM5D,KAAK4D,KACXkC,SAAUlE,OAAaT,MAAM,GAC7BS,MAAOA,EAQX,OALAH,GAAIqE,QAAQC,QAAQ,SAACvH,EAAOc,GACxB,GAAII,GAAOmG,EAAKjC,KAAKtE,IAAMuG,EAAKjC,KAAKtE,GAAGkF,KAAQqB,EAAKjC,KAAKtE,GAAGkF,KAAOlF,CAEpEmC,GAAIK,OAAOpC,GAAQlB,EAASwH,mBAAmBxH,GAASkG,SAErDjD,MF+GHF,IE5GZrE,GAAQqE,QAAUA,GFoHZ,SAAUpE,EAAQD,GAEvB,YGzVD,SAASyH,KACP3E,KAAKiG,QAAUjG,KAAKiG,YACpBjG,KAAKG,cAAgBH,KAAKG,eAAiBuE,OAwQ7C,QAASwB,GAAWC,GAClB,MAAsB,kBAARA,GAGhB,QAASC,GAASD,GAChB,MAAsB,gBAARA,GAGhB,QAASE,GAASF,GAChB,MAAsB,YAAf,mBAAOA,GAAP,YAAArH,EAAOqH,KAA4B,OAARA,EAGpC,QAASG,GAAYH,GACnB,MAAe,UAARA,EHoER,GAAIrH,GAA4B,kBAAXC,SAAoD,gBAApBA,QAAOC,SAAwB,SAAUC,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAXF,SAAyBE,EAAIV,cAAgBQ,QAAUE,IAAQF,OAAOX,UAAY,eAAkBa,GGvVvQ9B,GAAOD,QAAUyH,EAGjBA,EAAaA,aAAeA,EAE5BA,EAAavG,UAAU6H,QAAUvB,OACjCC,EAAavG,UAAU+B,cAAgBuE,OAIvCC,EAAa4B,oBAAsB,GAInC5B,EAAavG,UAAUoI,gBAAkB,SAASC,GAChD,IAAKL,EAASK,IAAMA,EAAI,GAAKC,MAAMD,GACjC,KAAM5I,WAAU,8BAElB,OADAmC,MAAKG,cAAgBsG,EACdzG,MAGT2E,EAAavG,UAAUwC,KAAO,SAAS+F,GACrC,GAAIC,GAAIvF,EAASwF,EAAKC,EAAMxH,EAAGyH,CAM/B,IAJK/G,KAAKiG,UACRjG,KAAKiG,YAGM,UAATU,KACG3G,KAAKiG,QAAQe,OACbX,EAASrG,KAAKiG,QAAQe,SAAWhH,KAAKiG,QAAQe,MAAMzH,QAAS,CAEhE,GADAqH,EAAKxF,UAAU,GACXwF,YAAcK,OAChB,KAAML,EAGN,IAAIM,GAAM,GAAID,OAAM,yCAA2CL,EAAK,IAEpE,MADAM,GAAItE,QAAUgE,EACRM,EAOZ,GAFA7F,EAAUrB,KAAKiG,QAAQU,GAEnBL,EAAYjF,GACd,OAAO,CAET,IAAI6E,EAAW7E,GACb,OAAQD,UAAU7B,QAEhB,IAAK,GACH8B,EAAQ/D,KAAK0C,KACb,MACF,KAAK,GACHqB,EAAQ/D,KAAK0C,KAAMoB,UAAU,GAC7B,MACF,KAAK,GACHC,EAAQ/D,KAAK0C,KAAMoB,UAAU,GAAIA,UAAU,GAC3C,MAEF,SACE0F,EAAO5F,MAAM9C,UAAU+C,MAAM7D,KAAK8D,UAAW,GAC7CC,EAAQsB,MAAM3C,KAAM8G,OAEnB,IAAIT,EAAShF,GAIlB,IAHAyF,EAAO5F,MAAM9C,UAAU+C,MAAM7D,KAAK8D,UAAW,GAC7C2F,EAAY1F,EAAQF,QACpB0F,EAAME,EAAUxH,OACXD,EAAI,EAAGA,EAAIuH,EAAKvH,IACnByH,EAAUzH,GAAGqD,MAAM3C,KAAM8G,EAG7B,QAAO,GAGTnC,EAAavG,UAAU+I,YAAc,SAASR,EAAMS,GAClD,GAAI7J,EAEJ,KAAK2I,EAAWkB,GACd,KAAMvJ,WAAU,8BA2ClB,OAzCKmC,MAAKiG,UACRjG,KAAKiG,YAIHjG,KAAKiG,QAAQoB,aACfrH,KAAKY,KAAK,cAAe+F,EACfT,EAAWkB,EAASA,UACpBA,EAASA,SAAWA,GAE3BpH,KAAKiG,QAAQU,GAGTN,EAASrG,KAAKiG,QAAQU,IAE7B3G,KAAKiG,QAAQU,GAAMpC,KAAK6C,GAGxBpH,KAAKiG,QAAQU,IAAS3G,KAAKiG,QAAQU,GAAOS,GAN1CpH,KAAKiG,QAAQU,GAAQS,EASnBf,EAASrG,KAAKiG,QAAQU,MAAW3G,KAAKiG,QAAQU,GAAMW,SAIpD/J,EAHG+I,EAAYtG,KAAKG,eAGhBwE,EAAa4B,oBAFbvG,KAAKG,cAKP5C,GAAKA,EAAI,GAAKyC,KAAKiG,QAAQU,GAAMpH,OAAShC,IAC5CyC,KAAKiG,QAAQU,GAAMW,QAAS,EAC5BC,QAAQP,MAAM,mIAGAhH,KAAKiG,QAAQU,GAAMpH,QACJ,kBAAlBgI,SAAQC,OAEjBD,QAAQC,UAKPxH,MAGT2E,EAAavG,UAAUqE,GAAKkC,EAAavG,UAAU+I,YAEnDxC,EAAavG,UAAUqJ,KAAO,SAASd,EAAMS,GAM3C,QAASM,KACP1H,KAAK2H,eAAehB,EAAMe,GAErBE,IACHA,GAAQ,EACRR,EAASzE,MAAM3C,KAAMoB,YAVzB,IAAK8E,EAAWkB,GACd,KAAMvJ,WAAU,8BAElB,IAAI+J,IAAQ,CAcZ,OAHAF,GAAEN,SAAWA,EACbpH,KAAKyC,GAAGkE,EAAMe,GAEP1H,MAIT2E,EAAavG,UAAUuJ,eAAiB,SAAShB,EAAMS,GACrD,GAAIS,GAAMC,EAAUvI,EAAQD,CAE5B,KAAK4G,EAAWkB,GACd,KAAMvJ,WAAU,8BAElB,KAAKmC,KAAKiG,UAAYjG,KAAKiG,QAAQU,GACjC,MAAO3G,KAMT,IAJA6H,EAAO7H,KAAKiG,QAAQU,GACpBpH,EAASsI,EAAKtI,OACduI,GAAW,EAEPD,IAAST,GACRlB,EAAW2B,EAAKT,WAAaS,EAAKT,WAAaA,QAC3CpH,MAAKiG,QAAQU,GAChB3G,KAAKiG,QAAQ0B,gBACf3H,KAAKY,KAAK,iBAAkB+F,EAAMS,OAE/B,IAAIf,EAASwB,GAAO,CACzB,IAAKvI,EAAIC,EAAQD,KAAM,GACrB,GAAIuI,EAAKvI,KAAO8H,GACXS,EAAKvI,GAAG8H,UAAYS,EAAKvI,GAAG8H,WAAaA,EAAW,CACvDU,EAAWxI,CACX,OAIJ,GAAIwI,EAAW,EACb,MAAO9H,KAEW,KAAhB6H,EAAKtI,QACPsI,EAAKtI,OAAS,QACPS,MAAKiG,QAAQU,IAEpBkB,EAAKnC,OAAOoC,EAAU,GAGpB9H,KAAKiG,QAAQ0B,gBACf3H,KAAKY,KAAK,iBAAkB+F,EAAMS,GAGtC,MAAOpH,OAGT2E,EAAavG,UAAU2J,mBAAqB,SAASpB,GACnD,GAAIjH,GAAKqH,CAET,KAAK/G,KAAKiG,QACR,MAAOjG,KAGT,KAAKA,KAAKiG,QAAQ0B,eAKhB,MAJyB,KAArBvG,UAAU7B,OACZS,KAAKiG,WACEjG,KAAKiG,QAAQU,UACb3G,MAAKiG,QAAQU,GACf3G,IAIT,IAAyB,IAArBoB,UAAU7B,OAAc,CAC1B,IAAKG,IAAOM,MAAKiG,QACH,mBAARvG,GACJM,KAAK+H,mBAAmBrI,EAI1B,OAFAM,MAAK+H,mBAAmB,kBACxB/H,KAAKiG,WACEjG,KAKT,GAFA+G,EAAY/G,KAAKiG,QAAQU,GAErBT,EAAWa,GACb/G,KAAK2H,eAAehB,EAAMI,OACrB,IAAIA,EAET,KAAOA,EAAUxH,QACfS,KAAK2H,eAAehB,EAAMI,EAAUA,EAAUxH,OAAS,GAI3D,cAFOS,MAAKiG,QAAQU,GAEb3G,MAGT2E,EAAavG,UAAU2I,UAAY,SAASJ,GAC1C,GAAIqB,EAOJ,OAHEA,GAHGhI,KAAKiG,SAAYjG,KAAKiG,QAAQU,GAE1BT,EAAWlG,KAAKiG,QAAQU,KACxB3G,KAAKiG,QAAQU,IAEd3G,KAAKiG,QAAQU,GAAMxF,YAI7BwD,EAAavG,UAAU6J,cAAgB,SAAStB,GAC9C,GAAI3G,KAAKiG,QAAS,CAChB,GAAIiC,GAAalI,KAAKiG,QAAQU,EAE9B,IAAIT,EAAWgC,GACb,MAAO,EACJ,IAAIA,EACP,MAAOA,GAAW3I,OAEtB,MAAO,IAGToF,EAAasD,cAAgB,SAASE,EAASxB,GAC7C,MAAOwB,GAAQF,cAActB","file":"grapnel.min.js","sourcesContent":["var Grapnel =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/****\n\t * Grapnel\n\t * https://github.com/baseprime/grapnel\n\t *\n\t * @author Greg Sabia Tucker <greg@narrowlabs.com>\n\t * @link http://basepri.me\n\t *\n\t * Released under MIT License. See LICENSE.txt or http://opensource.org/licenses/MIT\n\t*/\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar events_1 = __webpack_require__(1);\n\t\n\tvar Grapnel = function (_events_1$EventEmitte) {\n\t    _inherits(Grapnel, _events_1$EventEmitte);\n\t\n\t    function Grapnel(opts) {\n\t        _classCallCheck(this, Grapnel);\n\t\n\t        var _this = _possibleConstructorReturn(this, (Grapnel.__proto__ || Object.getPrototypeOf(Grapnel)).call(this));\n\t\n\t        _this._maxListeners = Infinity;\n\t        _this.options = {};\n\t        _this.defaults = {\n\t            env: 'client',\n\t            pushState: false\n\t        };\n\t        _this.options = Object.assign({}, _this.defaults, opts);\n\t        if ('object' === (typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) && 'function' === typeof window.addEventListener) {\n\t            window.addEventListener('hashchange', function () {\n\t                _this.emit('hashchange');\n\t            });\n\t            window.addEventListener('popstate', function (e) {\n\t                // Make sure popstate doesn't run on init -- this is a common issue with Safari and old versions of Chrome\n\t                if (_this.state && _this.state.previousState === null) return false;\n\t                _this.emit('navigate');\n\t            });\n\t        }\n\t        return _this;\n\t    }\n\t\n\t    _createClass(Grapnel, [{\n\t        key: \"add\",\n\t        value: function add(route) {\n\t            var self = this,\n\t                middleware = Array.prototype.slice.call(arguments, 1, -1),\n\t                handler = Array.prototype.slice.call(arguments, -1)[0],\n\t                request = new Request(route);\n\t            var invoke = function RouteHandler() {\n\t                // Build request parameters\n\t                var req = request.parse(self.path());\n\t                // Check if matches are found\n\t                if (req.match) {\n\t                    // Match found\n\t                    var extra = {\n\t                        route: route,\n\t                        params: req.params,\n\t                        req: req,\n\t                        regex: req.match\n\t                    };\n\t                    // Create call stack -- add middleware first, then handler\n\t                    var stack = new CallStack(self, extra).enqueue(middleware.concat(handler));\n\t                    // emit main event\n\t                    self.emit('match', stack, req);\n\t                    // Continue?\n\t                    if (!stack.runCallback) return self;\n\t                    // Previous state becomes current state\n\t                    stack.previousState = self.state;\n\t                    // Save new state\n\t                    self.state = stack;\n\t                    // Prevent this handler from being called if parent handler in stack has instructed not to propagate any more events\n\t                    if (stack.parent() && stack.parent().propagateEvent === false) {\n\t                        stack.propagateEvent = false;\n\t                        return self;\n\t                    }\n\t                    // Call handler\n\t                    stack.callback();\n\t                }\n\t                // Returns self\n\t                return self;\n\t            };\n\t            // Event name\n\t            var eventName = !self.options.pushState && self.options.env !== 'server' ? 'hashchange' : 'navigate';\n\t            // Invoke when route is defined, and once again when app navigates\n\t            return invoke().on(eventName, invoke);\n\t        }\n\t    }, {\n\t        key: \"get\",\n\t        value: function get() {\n\t            return this.add.apply(this, arguments);\n\t        }\n\t    }, {\n\t        key: \"trigger\",\n\t        value: function trigger() {\n\t            return this.emit.apply(this, arguments);\n\t        }\n\t    }, {\n\t        key: \"bind\",\n\t        value: function bind() {\n\t            return this.on.apply(this, arguments);\n\t        }\n\t    }, {\n\t        key: \"context\",\n\t        value: function context(_context) {\n\t            var self = this,\n\t                middleware = Array.prototype.slice.call(arguments, 1);\n\t            return function () {\n\t                var value = arguments[0],\n\t                    submiddleware = arguments.length > 2 ? Array.prototype.slice.call(arguments, 1, -1) : [],\n\t                    handler = Array.prototype.slice.call(arguments, -1)[0],\n\t                    prefix = _context.slice(-1) !== '/' && value !== '/' && value !== '' ? _context + '/' : _context,\n\t                    path = value.substr(0, 1) !== '/' ? value : value.substr(1),\n\t                    pattern = prefix + path;\n\t                return self.add.apply(self, [pattern].concat(middleware).concat(submiddleware).concat([handler]));\n\t            };\n\t        }\n\t    }, {\n\t        key: \"navigate\",\n\t        value: function navigate(path) {\n\t            return this.path(path).emit('navigate');\n\t        }\n\t    }, {\n\t        key: \"path\",\n\t        value: function path(pathname) {\n\t            var self = this;\n\t            var root = this.constructor._rootTarget;\n\t            var frag = void 0;\n\t            if ('string' === typeof pathname) {\n\t                // Set path\n\t                if (self.options.pushState) {\n\t                    frag = self.options.root ? self.options.root + pathname : pathname;\n\t                    root.history.pushState({}, null, frag);\n\t                } else if (root.location) {\n\t                    root.location.hash = (self.options.hashBang ? '!' : '') + pathname;\n\t                } else {\n\t                    root._pathname = pathname || '';\n\t                }\n\t                return this;\n\t            } else if ('undefined' === typeof pathname) {\n\t                // Get path\n\t                if (self.options.pushState) {\n\t                    frag = root.location.pathname.replace(self.options.root, '');\n\t                } else if (!self.options.pushState && root.location) {\n\t                    frag = root.location.hash ? root.location.hash.split(self.options.hashBang ? '#!' : '#')[1] : '';\n\t                } else {\n\t                    frag = root._pathname || '';\n\t                }\n\t                return frag;\n\t            } else if (pathname === false) {\n\t                // Clear path\n\t                if (self.options.pushState) {\n\t                    root.history.pushState({}, null, self.options.root || '/');\n\t                } else if (root.location) {\n\t                    root.location.hash = self.options.hashBang ? '!' : '';\n\t                }\n\t                return self;\n\t            }\n\t        }\n\t    }], [{\n\t        key: \"regexRoute\",\n\t        value: function regexRoute(path, keys, sensitive, strict) {\n\t            if (path instanceof RegExp) return path;\n\t            if (path instanceof Array) path = '(' + path.join('|') + ')';\n\t            // Build route RegExp\n\t            var newPath = path.concat(strict ? '' : '/?').replace(/\\/\\(/g, '(?:/').replace(/\\+/g, '__plus__').replace(/(\\/)?(\\.)?:(\\w+)(?:(\\(.*?\\)))?(\\?)?/g, function (_, slash, format, key, capture, optional) {\n\t                keys.push({\n\t                    name: key,\n\t                    optional: !!optional\n\t                });\n\t                slash = slash || '';\n\t                return '' + (optional ? '' : slash) + '(?:' + (optional ? slash : '') + (format || '') + (capture || format && '([^/.]+?)' || '([^/]+?)') + ')' + (optional || '');\n\t            }).replace(/([\\/.])/g, '\\\\$1').replace(/__plus__/g, '(.+)').replace(/\\*/g, '(.*)');\n\t            return new RegExp('^' + newPath + '$', sensitive ? '' : 'i');\n\t        }\n\t    }, {\n\t        key: \"listen\",\n\t        value: function listen() {\n\t            var opts;\n\t            var routes;\n\t            if ((arguments.length <= 0 ? undefined : arguments[0]) && (arguments.length <= 1 ? undefined : arguments[1])) {\n\t                opts = arguments.length <= 0 ? undefined : arguments[0];\n\t                routes = arguments.length <= 1 ? undefined : arguments[1];\n\t            } else {\n\t                routes = arguments.length <= 0 ? undefined : arguments[0];\n\t            }\n\t            // Return a new Grapnel instance\n\t            return function () {\n\t                // TODO: Accept multi-level routes\n\t                for (var key in routes) {\n\t                    this.add.call(this, key, routes[key]);\n\t                }\n\t                return this;\n\t            }.call(new Grapnel(opts || {}));\n\t        }\n\t    }]);\n\t\n\t    return Grapnel;\n\t}(events_1.EventEmitter);\n\t\n\tGrapnel._rootTarget = window || { history: {}, location: {} };\n\texports.default = Grapnel;\n\t\n\tvar CallStack = function () {\n\t    function CallStack(router, extendObj) {\n\t        _classCallCheck(this, CallStack);\n\t\n\t        this.runCallback = true;\n\t        this.callbackRan = true;\n\t        this.propagateEvent = true;\n\t        this.stack = CallStack.global.slice(0);\n\t        this.router = router;\n\t        this.runCallback = true;\n\t        this.callbackRan = false;\n\t        this.propagateEvent = true;\n\t        this.value = router.path();\n\t        Object.assign(this, extendObj);\n\t        return this;\n\t    }\n\t\n\t    _createClass(CallStack, [{\n\t        key: \"preventDefault\",\n\t        value: function preventDefault() {\n\t            this.runCallback = false;\n\t        }\n\t    }, {\n\t        key: \"stopPropagation\",\n\t        value: function stopPropagation() {\n\t            this.propagateEvent = false;\n\t        }\n\t    }, {\n\t        key: \"parent\",\n\t        value: function parent() {\n\t            var hasParentEvents = !!(this.previousState && this.previousState.value && this.previousState.value == this.value);\n\t            return hasParentEvents ? this.previousState : false;\n\t        }\n\t    }, {\n\t        key: \"callback\",\n\t        value: function callback() {\n\t            this.callbackRan = true;\n\t            this.timeStamp = Date.now();\n\t            this.next();\n\t        }\n\t    }, {\n\t        key: \"enqueue\",\n\t        value: function enqueue(handler, atIndex) {\n\t            var handlers = !Array.isArray(handler) ? [handler] : atIndex < handler.length ? handler.reverse() : handler;\n\t            while (handlers.length) {\n\t                this.stack.splice(atIndex || this.stack.length + 1, 0, handlers.shift());\n\t            }\n\t            return this;\n\t        }\n\t    }, {\n\t        key: \"next\",\n\t        value: function next() {\n\t            var self = this;\n\t            return this.stack.shift().call(this.router, this.req, this, function next() {\n\t                self.next.call(self);\n\t            });\n\t        }\n\t    }]);\n\t\n\t    return CallStack;\n\t}();\n\t\n\tCallStack.global = [];\n\texports.CallStack = CallStack;\n\t\n\tvar Request = function () {\n\t    function Request(route) {\n\t        _classCallCheck(this, Request);\n\t\n\t        this.route = route;\n\t        this.keys = [];\n\t        this.regex = Grapnel.regexRoute(route, this.keys);\n\t    }\n\t\n\t    _createClass(Request, [{\n\t        key: \"parse\",\n\t        value: function parse(path) {\n\t            var _this2 = this;\n\t\n\t            var match = path.match(this.regex);\n\t            var req = {\n\t                params: {},\n\t                keys: this.keys,\n\t                matches: (match || []).slice(1),\n\t                match: match\n\t            };\n\t            // Build parameters\n\t            req.matches.forEach(function (value, i) {\n\t                var key = _this2.keys[i] && _this2.keys[i].name ? _this2.keys[i].name : i;\n\t                // Parameter key will be its key or the iteration index. This is useful if a wildcard (*) is matched\n\t                req.params[key] = value ? decodeURIComponent(value) : undefined;\n\t            });\n\t            return req;\n\t        }\n\t    }]);\n\t\n\t    return Request;\n\t}();\n\t\n\texports.Request = Request;\n\t//# sourceMappingURL=grapnel.js.map\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\t// Copyright Joyent, Inc. and other Node contributors.\n\t//\n\t// Permission is hereby granted, free of charge, to any person obtaining a\n\t// copy of this software and associated documentation files (the\n\t// \"Software\"), to deal in the Software without restriction, including\n\t// without limitation the rights to use, copy, modify, merge, publish,\n\t// distribute, sublicense, and/or sell copies of the Software, and to permit\n\t// persons to whom the Software is furnished to do so, subject to the\n\t// following conditions:\n\t//\n\t// The above copyright notice and this permission notice shall be included\n\t// in all copies or substantial portions of the Software.\n\t//\n\t// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n\t// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n\t// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n\t// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n\t// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n\t// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n\t// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\t\n\tfunction EventEmitter() {\n\t  this._events = this._events || {};\n\t  this._maxListeners = this._maxListeners || undefined;\n\t}\n\tmodule.exports = EventEmitter;\n\t\n\t// Backwards-compat with node 0.10.x\n\tEventEmitter.EventEmitter = EventEmitter;\n\t\n\tEventEmitter.prototype._events = undefined;\n\tEventEmitter.prototype._maxListeners = undefined;\n\t\n\t// By default EventEmitters will print a warning if more than 10 listeners are\n\t// added to it. This is a useful default which helps finding memory leaks.\n\tEventEmitter.defaultMaxListeners = 10;\n\t\n\t// Obviously not all Emitters should be limited to 10. This function allows\n\t// that to be increased. Set to zero for unlimited.\n\tEventEmitter.prototype.setMaxListeners = function (n) {\n\t  if (!isNumber(n) || n < 0 || isNaN(n)) throw TypeError('n must be a positive number');\n\t  this._maxListeners = n;\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.emit = function (type) {\n\t  var er, handler, len, args, i, listeners;\n\t\n\t  if (!this._events) this._events = {};\n\t\n\t  // If there is no 'error' event listener then throw.\n\t  if (type === 'error') {\n\t    if (!this._events.error || isObject(this._events.error) && !this._events.error.length) {\n\t      er = arguments[1];\n\t      if (er instanceof Error) {\n\t        throw er; // Unhandled 'error' event\n\t      } else {\n\t        // At least give some kind of context to the user\n\t        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n\t        err.context = er;\n\t        throw err;\n\t      }\n\t    }\n\t  }\n\t\n\t  handler = this._events[type];\n\t\n\t  if (isUndefined(handler)) return false;\n\t\n\t  if (isFunction(handler)) {\n\t    switch (arguments.length) {\n\t      // fast cases\n\t      case 1:\n\t        handler.call(this);\n\t        break;\n\t      case 2:\n\t        handler.call(this, arguments[1]);\n\t        break;\n\t      case 3:\n\t        handler.call(this, arguments[1], arguments[2]);\n\t        break;\n\t      // slower\n\t      default:\n\t        args = Array.prototype.slice.call(arguments, 1);\n\t        handler.apply(this, args);\n\t    }\n\t  } else if (isObject(handler)) {\n\t    args = Array.prototype.slice.call(arguments, 1);\n\t    listeners = handler.slice();\n\t    len = listeners.length;\n\t    for (i = 0; i < len; i++) {\n\t      listeners[i].apply(this, args);\n\t    }\n\t  }\n\t\n\t  return true;\n\t};\n\t\n\tEventEmitter.prototype.addListener = function (type, listener) {\n\t  var m;\n\t\n\t  if (!isFunction(listener)) throw TypeError('listener must be a function');\n\t\n\t  if (!this._events) this._events = {};\n\t\n\t  // To avoid recursion in the case that type === \"newListener\"! Before\n\t  // adding it to the listeners, first emit \"newListener\".\n\t  if (this._events.newListener) this.emit('newListener', type, isFunction(listener.listener) ? listener.listener : listener);\n\t\n\t  if (!this._events[type])\n\t    // Optimize the case of one listener. Don't need the extra array object.\n\t    this._events[type] = listener;else if (isObject(this._events[type]))\n\t    // If we've already got an array, just append.\n\t    this._events[type].push(listener);else\n\t    // Adding the second element, need to change to array.\n\t    this._events[type] = [this._events[type], listener];\n\t\n\t  // Check for listener leak\n\t  if (isObject(this._events[type]) && !this._events[type].warned) {\n\t    if (!isUndefined(this._maxListeners)) {\n\t      m = this._maxListeners;\n\t    } else {\n\t      m = EventEmitter.defaultMaxListeners;\n\t    }\n\t\n\t    if (m && m > 0 && this._events[type].length > m) {\n\t      this._events[type].warned = true;\n\t      console.error('(node) warning: possible EventEmitter memory ' + 'leak detected. %d listeners added. ' + 'Use emitter.setMaxListeners() to increase limit.', this._events[type].length);\n\t      if (typeof console.trace === 'function') {\n\t        // not supported in IE 10\n\t        console.trace();\n\t      }\n\t    }\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\t\n\tEventEmitter.prototype.once = function (type, listener) {\n\t  if (!isFunction(listener)) throw TypeError('listener must be a function');\n\t\n\t  var fired = false;\n\t\n\t  function g() {\n\t    this.removeListener(type, g);\n\t\n\t    if (!fired) {\n\t      fired = true;\n\t      listener.apply(this, arguments);\n\t    }\n\t  }\n\t\n\t  g.listener = listener;\n\t  this.on(type, g);\n\t\n\t  return this;\n\t};\n\t\n\t// emits a 'removeListener' event iff the listener was removed\n\tEventEmitter.prototype.removeListener = function (type, listener) {\n\t  var list, position, length, i;\n\t\n\t  if (!isFunction(listener)) throw TypeError('listener must be a function');\n\t\n\t  if (!this._events || !this._events[type]) return this;\n\t\n\t  list = this._events[type];\n\t  length = list.length;\n\t  position = -1;\n\t\n\t  if (list === listener || isFunction(list.listener) && list.listener === listener) {\n\t    delete this._events[type];\n\t    if (this._events.removeListener) this.emit('removeListener', type, listener);\n\t  } else if (isObject(list)) {\n\t    for (i = length; i-- > 0;) {\n\t      if (list[i] === listener || list[i].listener && list[i].listener === listener) {\n\t        position = i;\n\t        break;\n\t      }\n\t    }\n\t\n\t    if (position < 0) return this;\n\t\n\t    if (list.length === 1) {\n\t      list.length = 0;\n\t      delete this._events[type];\n\t    } else {\n\t      list.splice(position, 1);\n\t    }\n\t\n\t    if (this._events.removeListener) this.emit('removeListener', type, listener);\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.removeAllListeners = function (type) {\n\t  var key, listeners;\n\t\n\t  if (!this._events) return this;\n\t\n\t  // not listening for removeListener, no need to emit\n\t  if (!this._events.removeListener) {\n\t    if (arguments.length === 0) this._events = {};else if (this._events[type]) delete this._events[type];\n\t    return this;\n\t  }\n\t\n\t  // emit removeListener for all listeners on all events\n\t  if (arguments.length === 0) {\n\t    for (key in this._events) {\n\t      if (key === 'removeListener') continue;\n\t      this.removeAllListeners(key);\n\t    }\n\t    this.removeAllListeners('removeListener');\n\t    this._events = {};\n\t    return this;\n\t  }\n\t\n\t  listeners = this._events[type];\n\t\n\t  if (isFunction(listeners)) {\n\t    this.removeListener(type, listeners);\n\t  } else if (listeners) {\n\t    // LIFO order\n\t    while (listeners.length) {\n\t      this.removeListener(type, listeners[listeners.length - 1]);\n\t    }\n\t  }\n\t  delete this._events[type];\n\t\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.listeners = function (type) {\n\t  var ret;\n\t  if (!this._events || !this._events[type]) ret = [];else if (isFunction(this._events[type])) ret = [this._events[type]];else ret = this._events[type].slice();\n\t  return ret;\n\t};\n\t\n\tEventEmitter.prototype.listenerCount = function (type) {\n\t  if (this._events) {\n\t    var evlistener = this._events[type];\n\t\n\t    if (isFunction(evlistener)) return 1;else if (evlistener) return evlistener.length;\n\t  }\n\t  return 0;\n\t};\n\t\n\tEventEmitter.listenerCount = function (emitter, type) {\n\t  return emitter.listenerCount(type);\n\t};\n\t\n\tfunction isFunction(arg) {\n\t  return typeof arg === 'function';\n\t}\n\t\n\tfunction isNumber(arg) {\n\t  return typeof arg === 'number';\n\t}\n\t\n\tfunction isObject(arg) {\n\t  return (typeof arg === 'undefined' ? 'undefined' : _typeof(arg)) === 'object' && arg !== null;\n\t}\n\t\n\tfunction isUndefined(arg) {\n\t  return arg === void 0;\n\t}\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// grapnel.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 965599e2a533ebfb64bb","\"use strict\";\n/****\n * Grapnel\n * https://github.com/baseprime/grapnel\n *\n * @author Greg Sabia Tucker <greg@narrowlabs.com>\n * @link http://basepri.me\n *\n * Released under MIT License. See LICENSE.txt or http://opensource.org/licenses/MIT\n*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst events_1 = require(\"events\");\nclass Grapnel extends events_1.EventEmitter {\n    constructor(opts) {\n        super();\n        this._maxListeners = Infinity;\n        this.options = {};\n        this.defaults = {\n            env: 'client',\n            pushState: false\n        };\n        this.options = Object.assign({}, this.defaults, opts);\n        if ('object' === typeof window && 'function' === typeof window.addEventListener) {\n            window.addEventListener('hashchange', () => {\n                this.emit('hashchange');\n            });\n            window.addEventListener('popstate', (e) => {\n                // Make sure popstate doesn't run on init -- this is a common issue with Safari and old versions of Chrome\n                if (this.state && this.state.previousState === null)\n                    return false;\n                this.emit('navigate');\n            });\n        }\n    }\n    static regexRoute(path, keys, sensitive, strict) {\n        if (path instanceof RegExp)\n            return path;\n        if (path instanceof Array)\n            path = '(' + path.join('|') + ')';\n        // Build route RegExp\n        let newPath = path.concat(strict ? '' : '/?')\n            .replace(/\\/\\(/g, '(?:/')\n            .replace(/\\+/g, '__plus__')\n            .replace(/(\\/)?(\\.)?:(\\w+)(?:(\\(.*?\\)))?(\\?)?/g, function (_, slash, format, key, capture, optional) {\n            keys.push({\n                name: key,\n                optional: !!optional\n            });\n            slash = slash || '';\n            return '' + (optional ? '' : slash) + '(?:' + (optional ? slash : '') + (format || '') + (capture || (format && '([^/.]+?)' || '([^/]+?)')) + ')' + (optional || '');\n        })\n            .replace(/([\\/.])/g, '\\\\$1')\n            .replace(/__plus__/g, '(.+)')\n            .replace(/\\*/g, '(.*)');\n        return new RegExp('^' + newPath + '$', sensitive ? '' : 'i');\n    }\n    static listen(...args) {\n        var opts;\n        var routes;\n        if (args[0] && args[1]) {\n            opts = args[0];\n            routes = args[1];\n        }\n        else {\n            routes = args[0];\n        }\n        // Return a new Grapnel instance\n        return (function () {\n            // TODO: Accept multi-level routes\n            for (var key in routes) {\n                this.add.call(this, key, routes[key]);\n            }\n            return this;\n        }).call(new Grapnel(opts || {}));\n    }\n    add(route) {\n        var self = this, middleware = Array.prototype.slice.call(arguments, 1, -1), handler = Array.prototype.slice.call(arguments, -1)[0], request = new Request(route);\n        var invoke = function RouteHandler() {\n            // Build request parameters\n            var req = request.parse(self.path());\n            // Check if matches are found\n            if (req.match) {\n                // Match found\n                var extra = {\n                    route: route,\n                    params: req.params,\n                    req: req,\n                    regex: req.match\n                };\n                // Create call stack -- add middleware first, then handler\n                var stack = new CallStack(self, extra).enqueue(middleware.concat(handler));\n                // emit main event\n                self.emit('match', stack, req);\n                // Continue?\n                if (!stack.runCallback)\n                    return self;\n                // Previous state becomes current state\n                stack.previousState = self.state;\n                // Save new state\n                self.state = stack;\n                // Prevent this handler from being called if parent handler in stack has instructed not to propagate any more events\n                if (stack.parent() && stack.parent().propagateEvent === false) {\n                    stack.propagateEvent = false;\n                    return self;\n                }\n                // Call handler\n                stack.callback();\n            }\n            // Returns self\n            return self;\n        };\n        // Event name\n        var eventName = (!self.options.pushState && self.options.env !== 'server') ? 'hashchange' : 'navigate';\n        // Invoke when route is defined, and once again when app navigates\n        return invoke().on(eventName, invoke);\n    }\n    get() {\n        return this.add.apply(this, arguments);\n    }\n    trigger() {\n        return this.emit.apply(this, arguments);\n    }\n    bind() {\n        return this.on.apply(this, arguments);\n    }\n    context(context) {\n        var self = this, middleware = Array.prototype.slice.call(arguments, 1);\n        return function () {\n            var value = arguments[0], submiddleware = (arguments.length > 2) ? Array.prototype.slice.call(arguments, 1, -1) : [], handler = Array.prototype.slice.call(arguments, -1)[0], prefix = (context.slice(-1) !== '/' && value !== '/' && value !== '') ? context + '/' : context, path = (value.substr(0, 1) !== '/') ? value : value.substr(1), pattern = prefix + path;\n            return self.add.apply(self, [pattern].concat(middleware).concat(submiddleware).concat([handler]));\n        };\n    }\n    navigate(path) {\n        return this.path(path).emit('navigate');\n    }\n    path(pathname) {\n        let self = this;\n        let root = this.constructor._rootTarget;\n        let frag;\n        if ('string' === typeof pathname) {\n            // Set path\n            if (self.options.pushState) {\n                frag = (self.options.root) ? (self.options.root + pathname) : pathname;\n                root.history.pushState({}, null, frag);\n            }\n            else if (root.location) {\n                root.location.hash = (self.options.hashBang ? '!' : '') + pathname;\n            }\n            else {\n                root._pathname = pathname || '';\n            }\n            return this;\n        }\n        else if ('undefined' === typeof pathname) {\n            // Get path\n            if (self.options.pushState) {\n                frag = root.location.pathname.replace(self.options.root, '');\n            }\n            else if (!self.options.pushState && root.location) {\n                frag = (root.location.hash) ? root.location.hash.split((self.options.hashBang ? '#!' : '#'))[1] : '';\n            }\n            else {\n                frag = root._pathname || '';\n            }\n            return frag;\n        }\n        else if (pathname === false) {\n            // Clear path\n            if (self.options.pushState) {\n                root.history.pushState({}, null, self.options.root || '/');\n            }\n            else if (root.location) {\n                root.location.hash = (self.options.hashBang) ? '!' : '';\n            }\n            return self;\n        }\n    }\n}\nGrapnel._rootTarget = (window || { history: {}, location: {} });\nexports.default = Grapnel;\nclass CallStack {\n    constructor(router, extendObj) {\n        this.runCallback = true;\n        this.callbackRan = true;\n        this.propagateEvent = true;\n        this.stack = CallStack.global.slice(0);\n        this.router = router;\n        this.runCallback = true;\n        this.callbackRan = false;\n        this.propagateEvent = true;\n        this.value = router.path();\n        Object.assign(this, extendObj);\n        return this;\n    }\n    preventDefault() {\n        this.runCallback = false;\n    }\n    stopPropagation() {\n        this.propagateEvent = false;\n    }\n    parent() {\n        var hasParentEvents = !!(this.previousState && this.previousState.value && this.previousState.value == this.value);\n        return (hasParentEvents) ? this.previousState : false;\n    }\n    callback() {\n        this.callbackRan = true;\n        this.timeStamp = Date.now();\n        this.next();\n    }\n    enqueue(handler, atIndex) {\n        var handlers = (!Array.isArray(handler)) ? [handler] : ((atIndex < handler.length) ? handler.reverse() : handler);\n        while (handlers.length) {\n            this.stack.splice(atIndex || this.stack.length + 1, 0, handlers.shift());\n        }\n        return this;\n    }\n    next() {\n        var self = this;\n        return this.stack.shift().call(this.router, this.req, this, function next() {\n            self.next.call(self);\n        });\n    }\n}\nCallStack.global = [];\nexports.CallStack = CallStack;\nclass Request {\n    constructor(route) {\n        this.route = route;\n        this.keys = [];\n        this.regex = Grapnel.regexRoute(route, this.keys);\n    }\n    parse(path) {\n        let match = path.match(this.regex);\n        let req = {\n            params: {},\n            keys: this.keys,\n            matches: (match || []).slice(1),\n            match: match\n        };\n        // Build parameters\n        req.matches.forEach((value, i) => {\n            var key = (this.keys[i] && this.keys[i].name) ? this.keys[i].name : i;\n            // Parameter key will be its key or the iteration index. This is useful if a wildcard (*) is matched\n            req.params[key] = (value) ? decodeURIComponent(value) : undefined;\n        });\n        return req;\n    }\n}\nexports.Request = Request;\n//# sourceMappingURL=grapnel.js.map\n\n\n// WEBPACK FOOTER //\n// ./build/grapnel.js","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/events/events.js"],"sourceRoot":""}